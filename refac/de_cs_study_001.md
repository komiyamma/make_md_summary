# ç¬¬1ç«  ã“ã®æ•™æã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ“âœ¨

## 1. ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯

ã“ã®æ•™æã‚’æœ€å¾Œã¾ã§ã‚„ã‚‹ã¨ã€ã“ã‚“ãªã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ğŸ˜Šâœ¨

* ã€Œè¿½åŠ ã«å¼·ã„ã€è¨­è¨ˆã®è€ƒãˆæ–¹ã‚’ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã§ä½“æ„Ÿã§ãã‚‹ğŸ§©
* â€œæ³¨æ–‡â†’æ”¯æ‰•ã„â†’ç™ºé€â€ã¿ãŸã„ãªæµã‚Œã«ã€ã‚ã¨ã‹ã‚‰æ©Ÿèƒ½ã‚’è¶³ã—ã¦ã‚‚å£Šã‚Œã«ããã§ãã‚‹ğŸ›’ğŸ’³ğŸ“¦
* ã€Œå·¨å¤§ãƒ¡ã‚½ãƒƒãƒ‰åŒ–ï¼ˆãªã‚“ã§ã‚‚1ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚„ã£ã¡ã‚ƒã†ğŸ˜µâ€ğŸ’«ï¼‰ã€ã‚’é˜²ãã€åˆ†ã‘æ–¹ã®ã‚³ãƒ„ãŒã‚ã‹ã‚‹âœ‚ï¸âœ¨
* ã‚¤ãƒ™ãƒ³ãƒˆã‚’ **â€œå‘½ä»¤â€ã˜ã‚ƒãªã â€œèµ·ããŸäº‹å®Ÿâ€** ã¨ã—ã¦æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ğŸ””ğŸ•’

---

## 2. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã£ã¦ãªã«ï¼Ÿï¼ˆè¶…ã–ã£ãã‚Š1åˆ†ï¼‰â±ï¸ğŸ””

ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ã²ã¨ã“ã¨ã§è¨€ã†ã¨ã“ã†ã§ã™ğŸ‘‡

* **ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã€Œèµ·ããŸäº‹å®Ÿã€ã‚’ã€åå‰ã®ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦è¡¨ã™ã‚‚ã®**ğŸ“£
* ãã—ã¦ã€ãã®äº‹å®Ÿã‚’ã€Œä»–ã®å‡¦ç†ãŒçŸ¥ã£ã¦åå¿œã§ãã‚‹ã€ã‚ˆã†ã«ã™ã‚‹è€ƒãˆæ–¹ğŸ§ âœ¨

ãŸã¨ãˆã°ãƒŸãƒ‹ECãªã‚‰â€¦

* âœ…ã€Œæ”¯æ‰•ã„ãŒå®Œäº†ã—ãŸã€â†’ *PaymentCompleted* / *OrderPaid*
* âœ…ã€Œæ³¨æ–‡ãŒç¢ºå®šã—ãŸã€â†’ *OrderPlaced*
* âœ…ã€Œç™ºé€ã—ãŸã€â†’ *OrderShipped*

ãƒã‚¤ãƒ³ãƒˆã¯ **â€œéå»å½¢ï¼ˆã‚‚ã†èµ·ããŸï¼‰â€** ã£ã½ã„è¨€ã„æ–¹ã«ãªã‚‹ã“ã¨ã§ã™ğŸ•’
ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã¯ã€Œã“ã‚Œã‹ã‚‰ã‚„ã‚Œï¼ã€ã˜ã‚ƒãªãã€Œèµ·ããŸã‚ˆï¼ã€ï¼‰([Microsoft Learn][1])

---

## 3. ãªãœãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã‚’å­¦ã¶ã¨ã€Œè¿½åŠ ã«å¼·ããªã‚‹ã€ã®ï¼ŸğŸ’ªâœ¨

### ã‚ˆãã‚ã‚‹ãƒ„ãƒ©ã„ä¾‹ğŸ˜±ï¼šã€Œæ³¨æ–‡ç¢ºå®šã€ãƒ¡ã‚½ãƒƒãƒ‰ãŒè‚¥å¤§åŒ–ã™ã‚‹

æœ€åˆã¯ã“ã‚“ãªæ„Ÿã˜ã§æ›¸ããŒã¡ã§ã™ğŸ‘‡

* æ³¨æ–‡ã‚’ç¢ºå®šã™ã‚‹âœ…
* åœ¨åº«ã‚’æ¸›ã‚‰ã™ğŸ“¦
* æ”¯æ‰•ã„å‡¦ç†ã‚’å‘¼ã¶ğŸ’³
* ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹ğŸ“§
* ãƒã‚¤ãƒ³ãƒˆã‚’ä»˜ä¸ã™ã‚‹ğŸ
* ãƒ­ã‚°ã‚’æ›¸ãğŸ§¾
* å¤–éƒ¨é€£æºAPIã‚’å©ãğŸŒ

ã“ã†ã„ã†ã®ãŒå…¨éƒ¨1ãƒ¡ã‚½ãƒƒãƒ‰ã«å…¥ã‚‹ã¨ã€å¾Œã‹ã‚‰ä»•æ§˜ãŒå¢—ãˆã‚‹ãŸã³ã« **åŒã˜å ´æ‰€ãŒã©ã‚“ã©ã‚“å¤ªã‚‹** ğŸ˜ğŸ’¦
çµæœâ€¦

* ã¡ã‚‡ã£ã¨ç›´ã™ã ã‘ã§åˆ¥ã®æ©Ÿèƒ½ãŒå£Šã‚Œã‚‹ğŸ˜µ
* ãƒ†ã‚¹ãƒˆãŒã—ã‚“ã©ã„ğŸ§ª
* å¤‰æ›´ã®å½±éŸ¿ç¯„å›²ãŒèª­ã‚ãªã„ğŸŒ€

### ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºæƒ³ğŸ§ âœ¨ï¼šã€Œäº‹å®Ÿã€ã‚’ä¸­å¿ƒã«ã—ã¦ã€åå¿œã™ã‚‹å‡¦ç†ã‚’å¤–ã«å‡ºã™

ä¸»å½¹ã¯ã€Œäº‹å®Ÿã€ğŸ””
ãã—ã¦ã€ãã®äº‹å®Ÿã«å¯¾ã—ã¦â€¦

* ãƒ¡ãƒ¼ãƒ«é€ä¿¡ğŸ“§
* ãƒã‚¤ãƒ³ãƒˆä»˜ä¸ğŸ
* ãƒ­ã‚°è¨˜éŒ²ğŸ§¾
* å¤–éƒ¨é€šçŸ¥ğŸŒ

ã¿ãŸã„ãª **â€œä»˜éšå‡¦ç†â€** ã‚’åˆ†ã‘ã¦è¶³ã—ã¦ã„ãæ„Ÿã˜ã«ãªã‚Šã¾ã™ğŸ§©âœ¨
ã ã‹ã‚‰ã€Œã‚ã¨ã‹ã‚‰è¿½åŠ ã€ãŒã‚„ã‚Šã‚„ã™ããªã‚Šã¾ã™ğŸ’ª

---

## 4. ã“ã®æ•™æã®é¡Œæï¼šãƒŸãƒ‹ECã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ğŸ›’ğŸ’³ğŸ“¦

ã“ã®æ•™æã¯ã€ãšã£ã¨ã“ã®ãƒŸãƒ‹ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã§é€²ã¿ã¾ã™ğŸ˜Š

1. **æ³¨æ–‡ã™ã‚‹**ğŸ›’
2. **æ”¯æ‰•ã†**ğŸ’³
3. **ç™ºé€ã™ã‚‹**ğŸ“¦

ãã—ã¦ã€çŠ¶æ…‹ï¼ˆStatusï¼‰ã‚‚ã–ã£ãã‚Šã“ã†è€ƒãˆã¾ã™ğŸ‘‡

* æœªæ‰•ã„ â†’ æ”¯æ‰•æ¸ˆ â†’ ç™ºé€æ¸ˆğŸ”âœ¨

ã“ã“ã§ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€Œç¯€ç›®ã®äº‹å®Ÿã€ã‚’è¡¨ã™ã®ã«ä½¿ã„ã¾ã™ğŸ””
ä¾‹ğŸ‘‡

* OrderPlacedï¼ˆæ³¨æ–‡ãŒç¢ºå®šã—ãŸï¼‰ğŸ›’âœ…
* OrderPaidï¼ˆæ”¯æ‰•ã„ãŒå®Œäº†ã—ãŸï¼‰ğŸ’³âœ…
* OrderShippedï¼ˆç™ºé€ã—ãŸï¼‰ğŸ“¦âœ…

---

## 5. ã¾ãšã¯â€œè¶…ãƒŸãƒ‹â€ã®å®Œæˆå½¢ã‚’å…ˆã«è¦‹ã‚ˆã†ğŸ‘€âœ¨ï¼ˆå…¨ä½“ã®ã‚´ãƒ¼ãƒ«ã®è¦‹å–ã‚Šå›³ï¼‰

ã“ã®æ•™æã§ç›®æŒ‡ã™æœ€å°ã®å®Œæˆå½¢ã¯ã“ã‚“ãªæµã‚Œã§ã™ğŸ‘‡

* **Orderï¼ˆæ³¨æ–‡ï¼‰**ã®çŠ¶æ…‹ãŒå¤‰ã‚ã‚‹ï¼ˆä¾‹ï¼šæ”¯æ‰•æ¸ˆã«ãªã‚‹ï¼‰â¤ï¸
* ãã®ç¬é–“ã« **OrderPaid** ã¨ã„ã†ã€Œäº‹å®Ÿï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰ã€ãŒç”Ÿã¾ã‚Œã‚‹ğŸ””
* ã‚ã¨ã‹ã‚‰è¿½åŠ ã—ãŸã„å‡¦ç†ï¼ˆãƒ¡ãƒ¼ãƒ«/ãƒã‚¤ãƒ³ãƒˆ/ãƒ­ã‚°â€¦ï¼‰ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã£ã¦å®Ÿè¡Œã™ã‚‹ğŸ¯

> ã€Œæ³¨æ–‡ã®æ ¸å¿ƒã€ã¨ã€Œä»˜éšå‡¦ç†ã€ãŒåˆ†ã‹ã‚Œã‚‹ã®ãŒå¬‰ã—ã„ãƒã‚¤ãƒ³ãƒˆã§ã™ğŸ˜Šâœ¨
> â€»ã‚¤ãƒ™ãƒ³ãƒˆï¼éå»ã«èµ·ããŸäº‹å®Ÿã€ã¨ã„ã†ä½ç½®ã¥ã‘([Microsoft Learn][1])

---

## 6. ã‚„ã£ã¦ã¿ã‚ˆã†ğŸ› ï¸ï¼šã‚¤ãƒ™ãƒ³ãƒˆã‚’â€œäº‹å®Ÿã®æ–‡ç« â€ã§æ›¸ã„ã¦ã¿ã‚‹âœï¸ğŸ””

æ¬¡ã®æ–‡ã‚’ **ã€Œèµ·ããŸäº‹å®Ÿã€** ã®å½¢ã«ç›´ã—ã¦ã¿ã¦ãã ã•ã„ğŸ˜Šâœ¨
ï¼ˆã‚³ãƒ„ï¼š**â€œã€œã—ã¦ï¼â€ã‚’ã‚„ã‚ã¦ã€â€œã€œã—ãŸâ€ã«ã™ã‚‹**ï¼‰

1. ã€Œæ”¯æ‰•ã£ã¦ï¼ã€ğŸ’³
2. ã€Œç™ºé€ã—ã¦ï¼ã€ğŸ“¦
3. ã€Œæ³¨æ–‡ã‚’ç¢ºå®šã—ã¦ï¼ã€ğŸ›’

ä¾‹ï¼ˆã“ã†ã„ã†æ„Ÿã˜âœ¨ï¼‰

* ã€Œæ”¯æ‰•ã£ã¦ï¼ã€ â†’ ã€Œæ”¯æ‰•ã„ãŒå®Œäº†ã—ãŸã€âœ…

---

## 7. â€œè¶…ãƒŸãƒ‹å®Ÿè£…â€ã‚µãƒ³ãƒ—ãƒ«ï¼šOrderãŒã‚¤ãƒ™ãƒ³ãƒˆã‚’æŒã¤é›°å›²æ°—ğŸ””ğŸ§º

ã“ã“ã§ã¯ã€Œé›°å›²æ°—ã€ã‚’ã¤ã‹ã‚€ãŸã‚ã®æœ€å°ã‚³ãƒ¼ãƒ‰ã§ã™ğŸ˜Š
ï¼ˆæœ¬æ ¼çš„ãªä½œã‚Šè¾¼ã¿ã¯å¾Œã®ç« ã§ã€ã‚‚ã£ã¨ã‚­ãƒ¬ã‚¤ã«ã—ã¦ã„ãã¾ã™ğŸ§¼âœ¨ï¼‰

```csharp
using System;
using System.Collections.Generic;

public interface IDomainEvent
{
    DateTimeOffset OccurredAt { get; }
}

// ã€Œæ”¯æ‰•ã„ãŒå®Œäº†ã—ãŸã€ã¨ã„ã†â€œäº‹å®Ÿâ€
public sealed record OrderPaid(Guid OrderId, DateTimeOffset OccurredAt) : IDomainEvent;

public enum OrderStatus
{
    Unpaid,
    Paid,
    Shipped
}

public sealed class Order
{
    public Guid Id { get; } = Guid.NewGuid();
    public OrderStatus Status { get; private set; } = OrderStatus.Unpaid;

    // ãƒ‰ãƒ¡ã‚¤ãƒ³å†…ã§èµ·ããŸã‚¤ãƒ™ãƒ³ãƒˆã‚’â€œæºœã‚ã‚‹â€ç®±ï¼ˆã¾ãšã¯ã“ã‚ŒãŒæœ€çŸ­ãƒ«ãƒ¼ãƒˆğŸ§ºï¼‰
    private readonly List<IDomainEvent> _domainEvents = new();
    public IReadOnlyList<IDomainEvent> DomainEvents => _domainEvents;

    public void MarkAsPaid()
    {
        if (Status != OrderStatus.Unpaid)
            throw new InvalidOperationException("æœªæ‰•ã„ã®æ³¨æ–‡ã ã‘æ”¯æ‰•ã„å¯èƒ½ã§ã™ğŸ¥º");

        Status = OrderStatus.Paid;

        // çŠ¶æ…‹ãŒå¤‰ã‚ã£ãŸç¬é–“ã«ã€Œèµ·ããŸäº‹å®Ÿã€ã‚’è¿½åŠ ã™ã‚‹ğŸ””
        _domainEvents.Add(new OrderPaid(Id, DateTimeOffset.UtcNow));
    }

    public void ClearDomainEvents() => _domainEvents.Clear(); // é…ã£ãŸã‚‰æƒé™¤ğŸ§¹
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ä¸€ç•ªå¤§äº‹ãªã®ã¯ã“ã“ã§ã™ğŸ‘‡

* **ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€Œã‚„ã£ã¦ã»ã—ã„ã“ã¨ã€ã˜ã‚ƒãªãã€Œèµ·ããŸã“ã¨ã€**ğŸ””ğŸ•’
* **çŠ¶æ…‹ãŒå¤‰ã‚ã£ãŸç¬é–“ã«ã€ã‚¤ãƒ™ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚Œã‚‹**âœ…

---

## 8. ãƒã‚§ãƒƒã‚¯âœ…ï¼šã“ã®ç« ã§æŠ¼ã•ãˆã‚‹1è¡Œãƒ«ãƒ¼ãƒ«ğŸ””âœ¨

* **ã‚¤ãƒ™ãƒ³ãƒˆã¯â€œå‘½ä»¤â€ã˜ã‚ƒãªãâ€œäº‹å®Ÿâ€ã¨ã—ã¦æ‰±ã†**ğŸ“£âœ…

---

## 9. ï¼ˆãŠã¾ã‘ï¼‰2026å¹´1æœˆæ™‚ç‚¹ã®ã€Œæœ€æ–°ã€ãƒ¡ãƒ¢ğŸ“âœ¨

* .NET ã®æœ€æ–°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æƒ…å ±ã§ã¯ã€**.NET 10 ãŒ LTS** ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã¾ã™ï¼ˆSDK 10.0.102 ãŒ 2026å¹´1æœˆ13æ—¥ãƒªãƒªãƒ¼ã‚¹è¡¨è¨˜ï¼‰([Microsoft][2])
* å‚è€ƒï¼šãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®å®šç¾©ãƒ»è¨­è¨ˆã®è€ƒãˆæ–¹ã¯ Microsoft ã® .NET ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚¬ã‚¤ãƒ‰ã«ã‚‚ã¾ã¨ã¾ã£ã¦ã„ã¾ã™([Microsoft Learn][1])

[1]: https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/domain-events-design-implementation?utm_source=chatgpt.com "Domain events: Design and implementation - .NET"
[2]: https://dotnet.microsoft.com/en-us/download?utm_source=chatgpt.com "Download .NET (Linux, macOS, and Windows) | .NET"
