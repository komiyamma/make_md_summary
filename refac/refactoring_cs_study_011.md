# ç¬¬11ç« ï¼šãƒ­ã‚°ã®åŸºç¤ï¼ˆå›°ã£ãŸæ™‚ã«è¿½ãˆã‚‹ã‚ˆã†ã«ï¼‰ğŸ§¾ğŸ”âœ¨

## ã“ã®ç« ã®ã‚´ãƒ¼ãƒ«ğŸ¯

ãƒ­ã‚°ã‚’ã€Œãªã‚“ã¨ãªãå‡ºã™ã€ã‹ã‚‰å’æ¥­ã—ã¦ã€**åŸå› ã«ãŸã©ã‚Šç€ã‘ã‚‹ãƒ­ã‚°**ã‚’ä½œã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ğŸ’ªğŸ’–
ãƒªãƒ•ã‚¡ã‚¯ã‚¿ä¸­ã«ã€Œã‚ã‚Œã€å‹•ãå¤‰ã‚ã£ã¦ãªã„â€¦ï¼Ÿã€ã£ã¦ä¸å®‰ã«ãªã£ãŸæ™‚ã‚‚ã€ãƒ­ã‚°ãŒã‚ã‚‹ã¨å®‰å¿ƒã§ã™ğŸ™‚ğŸ›¡ï¸

---

## 1. ãƒ­ã‚°ã£ã¦çµå±€ãªã«ï¼ŸğŸ¤”ğŸ“

ãƒ­ã‚°ã¯ã€ã‚¢ãƒ—ãƒªã®å‹•ãã‚’ã‚ã¨ã‹ã‚‰è¿½ã„ã‹ã‘ã‚‹ãŸã‚ã®ã€Œè¶³ã‚ã¨ã€ğŸ‘£âœ¨
ç‰¹ã«ã€æ¬¡ã¿ãŸã„ãªã¨ãã«å¼·ã„å‘³æ–¹ã«ãªã‚Šã¾ã™ğŸ’¡

* å¤±æ•—ã—ãŸã®ã¯ **ã©ã“**ï¼Ÿï¼ˆã©ã®å‡¦ç†ã®é€”ä¸­ï¼Ÿï¼‰ğŸ”
* ä½•ãŒ **åŸå› **ï¼Ÿï¼ˆå…¥åŠ›ï¼Ÿå¤–éƒ¨APIï¼ŸDBï¼Ÿï¼‰ğŸ§©
* å†ç¾ã—ãªã„ä¸å…·åˆãŒ **æœ¬ç•ªã ã‘** ã§èµ·ãã‚‹â€¦ğŸ˜±ï¼ˆâ†ãƒ­ã‚°ãŒãªã„ã¨è©°ã¿ãŒã¡ï¼‰

.NET ã®ãƒ­ã‚°ã¯ `ILogger` ã‚’ä¸­å¿ƒã«ã€Œé«˜æ€§èƒ½ãƒ»æ§‹é€ åŒ–ãƒ­ã‚°ã€ã‚’å‰æã«ä½œã‚‰ã‚Œã¦ã„ã¾ã™ğŸ“¦âœ¨ ([Microsoft Learn][1])

---

## 2. ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ï¼ˆé‡è¦åº¦ï¼‰ã‚’ä½¿ã„åˆ†ã‘ã‚ˆã†ğŸš¦âœ¨

ãƒ­ã‚°ã¯ã€Œé‡è¦åº¦ã€ã§åˆ†é¡ã—ã¾ã™ã€‚ã“ã‚Œã‚’ **ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«** ã¨å‘¼ã³ã¾ã™ğŸ™‚

* **Trace**ï¼šã„ã¡ã°ã‚“ç´°ã‹ã„ï¼ˆæƒ…å ±é‡ãŒå¤šã™ãæ³¨æ„ï¼‰ğŸ§ ğŸ’¥
  â€»æ©Ÿå¯†æƒ…å ±ãŒæ··ã–ã‚Šã‚„ã™ã„ã®ã§ã€æœ¬ç•ªã§ã¯åŸºæœ¬ONã«ã—ãªã„æƒ³å®šã§ã™âš ï¸ ([Microsoft Learn][2])
* **Debug**ï¼šé–‹ç™ºä¸­ã®èª¿æŸ»å‘ã‘ğŸ”§
* **Information**ï¼šé€šå¸¸ã®æµã‚Œã‚’è¿½ã†ãŸã‚ã®è¨˜éŒ²ğŸ“
* **Warning**ï¼šå¤‰ã ã‘ã©è‡´å‘½çš„ã§ã¯ãªã„ï¼ˆä¾‹ï¼šãƒªãƒˆãƒ©ã‚¤ã—ãŸã€æƒ³å®šå¤–å…¥åŠ›ã ã‘ã©å‡¦ç†ç¶™ç¶šï¼‰ğŸŸ¡
* **Error**ï¼šå‡¦ç†ãŒå¤±æ•—ã—ãŸï¼ˆãŸã ã—ã‚¢ãƒ—ãƒªå…¨ä½“ãŒè½ã¡ãŸã¨ã¯é™ã‚‰ãªã„ï¼‰ğŸ”´
* **Critical**ï¼šè‡´å‘½çš„ï¼ˆã‚µãƒ¼ãƒ“ã‚¹ç¶™ç¶šãŒé›£ã—ã„ï¼‰ğŸ’£

ã“ã®ãƒ¬ãƒ™ãƒ«åˆ†ã‘ãŒã‚ã‚‹ã‹ã‚‰ã€**å¿…è¦ãªãƒ­ã‚°ã ã‘ã‚’å‡ºã™**ï¼ˆãƒã‚¤ã‚ºã‚’æ¸›ã‚‰ã™ï¼‰ã“ã¨ãŒã§ãã¾ã™âœ¨ ([Microsoft Learn][1])

---

## 3. ã€Œãƒ­ã‚°ã¯æ–‡ç« ã˜ã‚ƒãªããƒ‡ãƒ¼ã‚¿ã€ã£ã¦ã©ã†ã„ã†ã“ã¨ï¼ŸğŸ“¦ğŸª„

C# ã® `ILogger` ã¯ã€Œæ§‹é€ åŒ–ãƒ­ã‚°ã€ãŒåŸºæœ¬ã§ã™ã€‚
ãƒã‚¤ãƒ³ãƒˆã¯ **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**ï¼ˆ`{}` ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰ğŸ§©âœ¨

ãŸã¨ãˆã°ã€ã“ã†ğŸ‘‡

```csharp
logger.LogInformation("Payment started. UserId={UserId} Amount={Amount}", userId, amount);
```

ã“ã® `{UserId}` ã‚„ `{Amount}` ã¯ã€ãŸã ã®æ–‡å­—åŸ‹ã‚è¾¼ã¿ã˜ã‚ƒãªãã¦
**â€œãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆæ¤œç´¢ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ï¼‰â€ ã¨ã—ã¦æ‰±ãˆã‚‹**è¨­è¨ˆã§ã™ğŸ“Œâœ¨ ([Microsoft Learn][1])

### æ–‡å­—åˆ—è£œé–“ï¼ˆ$"..."ï¼‰ã¯ãªã‚‹ã¹ãé¿ã‘ã‚ˆã†ğŸ™…â€â™€ï¸âš¡

ãƒ­ã‚°ã§ `$"UserId={userId}"` ã¿ãŸã„ãªæ–‡å­—åˆ—è£œé–“ã‚’å¤šç”¨ã™ã‚‹ã¨ã€æ€§èƒ½é¢ã§ä¸åˆ©ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™âš ï¸
Microsoft ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚‚ã€Œå¤šãã®å ´åˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå½¢å¼ã‚’æ¨å¥¨ã€ã¨ã•ã‚Œã¦ã„ã¾ã™âœ¨ ([Microsoft Learn][1])

---

## 4. â€œ1è¡Œã®æƒ…å ±é‡â€ã®ä½œã‚Šæ–¹ğŸ“ğŸ§¾âœ¨

èª­ã¿ã‚„ã™ã„ãƒ­ã‚°ã¯ã€**1è¡Œã§çŠ¶æ³ãŒåˆ†ã‹ã‚‹**ã®ãŒç†æƒ³ã§ã™ğŸŒŸ

æœ€ä½é™ãŠã™ã™ã‚ã¯ã“ã®ã‚»ãƒƒãƒˆğŸ‘‡ï¼ˆå…¨éƒ¨ã‚’æ¯å›å…¥ã‚Œã‚‹å¿…è¦ã¯ãªã„ã‚ˆğŸ™‚ï¼‰

* ä½•ãŒèµ·ããŸï¼Ÿï¼ˆçŸ­ã„å‹•è©ã§ï¼‰ğŸ“
* ã©ã®å¯¾è±¡ï¼Ÿï¼ˆä¾‹ï¼šæ³¨æ–‡IDã€ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã€ãƒ•ã‚¡ã‚¤ãƒ«åï¼‰ğŸ·ï¸
* çµæœã¯ï¼Ÿï¼ˆæˆåŠŸ/å¤±æ•—ã€ä»¶æ•°ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰âœ…âŒ
* å¤±æ•—ãªã‚‰ä¾‹å¤–ã‚‚ï¼ˆ`ex` ã‚’æ¸¡ã™ï¼‰ğŸ’¥
* è¿½è·¡ç”¨IDï¼ˆã‚ã¨ã§è¿½ãˆã‚‹ï¼‰ğŸ§µâœ¨ï¼ˆå¾Œã§å‡ºã¦ãã‚‹ Scope ãŒä¾¿åˆ©ï¼ï¼‰

---

## 5. ã©ã“ã«ãƒ­ã‚°ãŒå‡ºã‚‹ã®ï¼Ÿï¼ˆä»£è¡¨ï¼‰ğŸªŸğŸ”

.NET ã®ãƒ­ã‚°ã¯ã€Œãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã€ã‚’è¿½åŠ ã—ã¦ã€å‡ºåŠ›å…ˆã‚’æ±ºã‚ã¾ã™ğŸ“®âœ¨
æ¨™æº–ã§ä½¿ãˆã‚‹ä»£è¡¨ä¾‹ã¯ã“ã‚“ãªæ„Ÿã˜ğŸ‘‡

* **Console**ï¼šã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ğŸ–¥ï¸
* **Debug**ï¼šãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ï¼ˆVisual Studio ã® Output ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãªã©ï¼‰ğŸ§ 
* **EventSource**ï¼šã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ¬ãƒ¼ã‚¹ç³»ï¼ˆWindows ãªã‚‰ ETW ã¨é–¢ä¿‚ï¼‰ğŸ“¡
* **EventLogï¼ˆWindowsï¼‰**ï¼šWindowsã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ğŸ“˜

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆWorkerç³»ãªã©ï¼‰ã§ã¯ `CreateApplicationBuilder` ãŒã“ã‚Œã‚‰ã‚’è¿½åŠ ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ğŸ§°âœ¨ ([Microsoft Learn][3])

### ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºã—ãŸã„ã¨ãã¯ï¼ŸğŸ“„

ã“ã“ã€è¶…å¤§äº‹ãƒã‚¤ãƒ³ãƒˆâš ï¸
**ASP.NET Core ã«ã¯ â€œãƒ•ã‚¡ã‚¤ãƒ«ã¸æ›¸ãæ¨™æº–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼â€ ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚**
ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã—ãŸã„ãªã‚‰ **ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ï¼ˆä¾‹ï¼šSerilogï¼‰** ã‚’ä½¿ã†ã®ãŒå®šç•ªã§ã™ğŸ“Œ ([Microsoft Learn][4])

---

## 6. å®Ÿè£…ï¼šæœ€å°ã®ãƒ­ã‚°ã‚’å‡ºã—ã¦ã¿ã‚ˆã†ğŸ› ï¸âœ¨

### 6-1. ã¾ãšã¯ `ILogger` ã‚’ä½¿ã†ï¼ˆConsoleã‚¢ãƒ—ãƒªä¾‹ï¼‰ğŸ–¥ï¸ğŸ§ª

ã€Œãƒ›ã‚¹ãƒˆã‚’ä½œã£ã¦ã€ILoggerã‚’æ³¨å…¥ã—ã¦ä½¿ã†ã€å½¢ãŒåŸºæœ¬ã§ã™ğŸ™‚

```csharp
using Microsoft.Extensions.DependencyInjection;
using Microsoft.Extensions.Hosting;
using Microsoft.Extensions.Logging;

var builder = Host.CreateApplicationBuilder(args);

// å‡ºåŠ›å…ˆã‚’åˆ†ã‹ã‚Šã‚„ã™ãï¼ˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ï¼‰
builder.Logging.ClearProviders();
builder.Logging.AddSimpleConsole(options =>
{
    options.SingleLine = true;
    options.TimestampFormat = "HH:mm:ss ";
});

builder.Logging.SetMinimumLevel(LogLevel.Information);

builder.Services.AddTransient<CheckoutService>();

using var host = builder.Build();

var svc = host.Services.GetRequiredService<CheckoutService>();
await svc.CheckoutAsync(userId: "u-123", amount: 2980);

public sealed class CheckoutService(ILogger<CheckoutService> logger)
{
    public Task CheckoutAsync(string userId, int amount)
    {
        logger.LogInformation("Checkout started. UserId={UserId} Amount={Amount}", userId, amount);
        logger.LogInformation("Checkout finished. UserId={UserId}", userId);
        return Task.CompletedTask;
    }
}
```

**ã‚³ãƒ„**ï¼šãƒ­ã‚°æœ¬æ–‡ã¯çŸ­ãï¼ ä»£ã‚ã‚Šã« `{UserId}` ã¿ãŸã„ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ·»ãˆã‚‹ã¨ã€èª¿æŸ»ãŒè¶…ãƒ©ã‚¯ã«ãªã‚Šã¾ã™ğŸ“Œâœ¨ ([Microsoft Learn][1])

---

## 7. EventIdï¼ˆã‚¤ãƒ™ãƒ³ãƒˆç•ªå·ï¼‰ã§ã€ŒåŒã˜ç¨®é¡ã®ãƒ­ã‚°ã€ã‚’æŸã­ã‚‹ğŸ·ï¸ğŸ”¢âœ¨

ãƒ­ã‚°ãŒå¢—ãˆã‚‹ã¨ã€æ¤œç´¢ã§ã€Œã“ã®ç¨®é¡ã®ãƒ­ã‚°ã ã‘è¦‹ãŸã„ï¼ã€ãŒå¿…ãšæ¥ã¾ã™ğŸ‘€
ãã“ã§ä¾¿åˆ©ãªã®ãŒ **EventId** ã§ã™ğŸ’¡

```csharp
using Microsoft.Extensions.Logging;

internal static class LogEvents
{
    internal static readonly EventId CheckoutStart = new(1000, "CheckoutStart");
    internal static readonly EventId CheckoutEnd   = new(1001, "CheckoutEnd");
    internal static readonly EventId CheckoutFail  = new(1400, "CheckoutFail");
}
```

ä½¿ã†å´ğŸ‘‡

```csharp
logger.LogInformation(LogEvents.CheckoutStart, "Checkout started. UserId={UserId} Amount={Amount}", userId, amount);
```

EventId ã¯ã€ŒåŒã˜ç¨®é¡ã®å‡ºæ¥äº‹ã€ã‚’ã¾ã¨ã‚ã‚‹è€ƒãˆæ–¹ã§ã™ğŸ§©âœ¨ ([Microsoft Learn][1])

---

## 8. Scopeï¼ˆã‚¹ã‚³ãƒ¼ãƒ—ï¼‰ã§ â€œå…±é€šæƒ…å ±â€ ã‚’è‡ªå‹•ã§ä»˜ã‘ã‚‹ğŸ§µâœ¨

ãƒªãƒ•ã‚¡ã‚¯ã‚¿ã‚„ä¸å…·åˆèª¿æŸ»ã§ã€Œã“ã®ä¸€é€£ã®å‡¦ç†ã®ãƒ­ã‚°ã ã‘è¿½ã„ãŸã„ï¼ã€ã£ã¦ãªã‚ŠãŒã¡ã§ã™ğŸ™‚
ãã“ã§ **Scope** ã‚’ä½¿ã†ã¨ã€åŒã˜å‡¦ç†ä¸­ã®ãƒ­ã‚°ã«å…±é€šæƒ…å ±ã‚’ä»˜ã‘ã‚‰ã‚Œã¾ã™ğŸ“Œ

```csharp
using System.Collections.Generic;

var traceId = Guid.NewGuid().ToString("N");

using (logger.BeginScope(new List<KeyValuePair<string, object>>
{
    new("TraceId", traceId),
    new("UserId", userId),
}))
{
    logger.LogInformation("Checkout started. Amount={Amount}", amount);
    logger.LogInformation("Validate finished");
    logger.LogInformation("Checkout finished");
}
```

Scope ã¯ã€ŒåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’ã¾ã¨ã‚ã¦ä»˜ã‘ã‚‹ã€ãŸã‚ã®ä»•çµ„ã¿ã§ã€`BeginScope()` ãŒè¿”ã™ `IDisposable` ã‚’ `using` ã§å›²ã¿ã¾ã™ğŸ§¤âœ¨ ([Microsoft Learn][1])

---

## 9. ä¾‹å¤–ã¯ â€œexã‚’æ¸¡ã—ã¦â€ è¨˜éŒ²ã™ã‚‹ğŸ’¥ğŸ§¯

ã‚¨ãƒ©ãƒ¼ã®ãƒ­ã‚°ã¯ã€**ä¾‹å¤–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚‚ä¸€ç·’ã«æ¸¡ã™**ã®ãŒåŸºæœ¬ã§ã™ğŸ™‚
ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ãªã©ãŒå‡ºåŠ›å…ˆã«æ®‹ã›ã¾ã™ğŸ“Œï¼ˆå‡ºåŠ›ã®ã•ã‚Œæ–¹ã¯ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä¾å­˜ï¼‰ ([Microsoft Learn][1])

```csharp
try
{
    DoSomething();
}
catch (Exception ex)
{
    logger.LogError(LogEvents.CheckoutFail, ex, "Checkout failed. UserId={UserId}", userId);
    throw;
}
```

---

## 10. ãƒŸãƒ‹æ¼”ç¿’ï¼šå¤±æ•—ã‚±ãƒ¼ã‚¹ã®ãƒ­ã‚°ã‚’èª­ã¿ã‚„ã™ãã™ã‚‹ğŸª„ğŸ“âœ¨

### ãŠé¡ŒğŸ€

æ¬¡ã®ã€Œå¾®å¦™ãƒ­ã‚°ã€ã‚’ã€**åŸå› ã«è¿‘ã¥ã‘ã‚‹ãƒ­ã‚°**ã«ç›´ã—ã¦ã¿ã‚ˆã†ğŸ’ª

âŒ ã‚ˆãã‚ã‚‹å¾®å¦™ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæƒ…å ±ãŒè¶³ã‚Šãªã„ / æ¤œç´¢ã—ã¥ã‚‰ã„ï¼‰ğŸ˜µâ€ğŸ’«

```csharp
Console.WriteLine("start");
Console.WriteLine("error!");
Console.WriteLine("end");
```

âœ… æ”¹å–„ã®æ–¹å‘æ€§ï¼ˆä¾‹ï¼‰ğŸŒŸ

* ãƒ¬ãƒ™ãƒ«ã‚’ä»˜ã‘ã‚‹ï¼ˆInformation / Warning / Errorï¼‰ğŸš¦
* ä½•ã®å‡¦ç†ã‹åˆ†ã‹ã‚‹å‹•è©ã«ã™ã‚‹ğŸ“
* é‡è¦ãªå€¤ã‚’ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åŒ–ã™ã‚‹ï¼ˆ`{OrderId}` ã¿ãŸã„ã«ï¼‰ğŸ·ï¸
* å¤±æ•—æ™‚ã¯ä¾‹å¤–ã‚‚ä»˜ã‘ã‚‹ğŸ’¥
* 1ã¤ã®å‡¦ç†ã‚’ Scope ã§æŸã­ã‚‹ğŸ§µ

### ç›®æ¨™ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰âœ¨

```csharp
var traceId = Guid.NewGuid().ToString("N");

using (logger.BeginScope(new[] { new KeyValuePair<string, object>("TraceId", traceId) }))
{
    logger.LogInformation("Payment started. OrderId={OrderId} Amount={Amount}", orderId, amount);

    try
    {
        gateway.Charge(orderId, amount);
        logger.LogInformation("Payment succeeded. OrderId={OrderId}", orderId);
    }
    catch (Exception ex)
    {
        logger.LogError(ex, "Payment failed. OrderId={OrderId} Amount={Amount}", orderId, amount);
        throw;
    }
}
```

---

## 11. AIæ‹¡å¼µï¼ˆCopilot / OpenAIç³»ï¼‰ã«é ¼ã‚€ã¨ãã®ã‚³ãƒ„ğŸ¤–âœ¨

AIã«ãƒ­ã‚°æ”¹å–„ã‚’é ¼ã‚€ã¨ã€ã‚¹ãƒ”ãƒ¼ãƒ‰ã¯å‡ºã¾ã™âš¡
ã§ã‚‚ã€Œå…¥ã‚Œã‚‹ã¹ãæƒ…å ±ã€ã¯ä»•æ§˜ã‚„å®‰å…¨é¢ã«ç›´çµã™ã‚‹ã®ã§ã€äººé–“ãŒæœ€çµ‚åˆ¤æ–­ã—ã¾ã™ğŸ™‚ğŸ›¡ï¸

### ä½¿ã„ã‚„ã™ã„ä¾é ¼æ–‡ï¼ˆä¾‹ï¼‰ğŸ§¾

* ã€Œã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€èª¿æŸ»ã«å¿…è¦ãªãƒ­ã‚°é …ç›®ï¼ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰ã‚’åˆ—æŒ™ã—ã¦ã€ğŸ“‹
* ã€ŒInformation/Warning/Error ã®å¢ƒç•Œã‚’ææ¡ˆã—ã¦ï¼ˆç†ç”±ã¤ãã§ï¼‰ã€ğŸš¦
* ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå½¢å¼ï¼ˆ`{}`ï¼‰ã§ã€ãƒ­ã‚°æ¡ˆã‚’3ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ğŸ§©
* ã€ŒPII/ç§˜å¯†æƒ…å ±ã‚’ãƒ­ã‚°ã«å…¥ã‚Œãªã„ã‚ˆã†ã«ã€å±é™ºãªé …ç›®ã‚’æŒ‡æ‘˜ã—ã¦ã€âš ï¸

### ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®è¦³ç‚¹âœ…

* æ–‡å­—åˆ—è£œé–“ `$"..."` ã«ãªã£ã¦ãªã„ï¼Ÿï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‰¯ã„ï¼‰ ([Microsoft Learn][1])
* `{}` ã®ä¸­èº«ãŒã€Œæ„å‘³ã‚ã‚‹åå‰ã€ã«ãªã£ã¦ã‚‹ï¼ŸğŸ·ï¸
* å¤±æ•—æ™‚ã«ã€å¿…è¦ãªå€¤ãŒæ®‹ã‚‹ï¼Ÿï¼ˆOrderId/å¤–éƒ¨çµæœãªã©ï¼‰ğŸ§ 
* æ©Ÿå¯†ãŒæ··ã–ã£ã¦ãªã„ï¼Ÿï¼ˆãƒˆãƒ¼ã‚¯ãƒ³/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰/å€‹äººæƒ…å ±ï¼‰ğŸ”’

---

## 12. ä»•ä¸Šã’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…ğŸ§¾âœ¨

ã‚³ãƒŸãƒƒãƒˆå‰ã«ã€ã“ã“ã ã‘ç¢ºèªã™ã‚‹ã¨äº‹æ•…ã‚Šã«ãã„ã‚ˆğŸ™‚

* [ ] **æˆåŠŸãƒ­ã‚°**ï¼šå‡¦ç†ã®é–‹å§‹/å®Œäº†ãŒè¿½ãˆã‚‹ğŸ“
* [ ] **å¤±æ•—ãƒ­ã‚°**ï¼šä¾‹å¤–ï¼ˆexï¼‰ï¼‹åŸå› ã«è¿‘ã„å€¤ï¼ˆIDç­‰ï¼‰ãŒã‚ã‚‹ğŸ’¥
* [ ] **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå½¢å¼**ã§å‡ºã—ã¦ã‚‹ï¼ˆè£œé–“ã—ãªã„ï¼‰ğŸ§© ([Microsoft Learn][1])
* [ ] **ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«**ãŒé©åˆ‡ï¼ˆå…¨éƒ¨Errorã«ã—ã¦ãªã„ï¼‰ğŸš¦ ([Microsoft Learn][2])
* [ ] é‡è¦å‡¦ç†ã¯ **Scope** ã§æŸã­ã‚‰ã‚Œã‚‹ï¼ˆTraceIdãªã©ï¼‰ğŸ§µ ([Microsoft Learn][1])

---

## 13. ï¼ˆã¡ã‚‡ã„å…ˆå–ã‚Šï¼‰è¦³æ¸¬ã®ä¸–ç•Œï¼šOpenTelemetryã£ã¦ï¼ŸğŸŒâœ¨

ã€Œãƒ­ã‚°ã‚’é›†ã‚ã¦æ¤œç´¢ã—ã‚„ã™ãã™ã‚‹ã€ã€Œãƒˆãƒ¬ãƒ¼ã‚¹ã¨ä¸€ç·’ã«è¦‹ã‚‹ã€ã¿ãŸã„ãªâ€œè¦³æ¸¬â€ã®ä»•çµ„ã¿ã¨ã—ã¦ã€OpenTelemetry ãŒã‚ˆãä½¿ã‚ã‚Œã¾ã™ğŸ“¡
OpenTelemetry .NET ã¯ `ILogger` ã¨çµ±åˆã—ã¦ãƒ­ã‚°ã‚’åé›†ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã‚‹ã€ã¨èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ğŸ§©âœ¨ ([OpenTelemetry][5])

ä»Šã™ãå¿…é ˆã§ã¯ãªã„ã‘ã©ã€ã€Œãƒ­ã‚°ã¯ãƒ‡ãƒ¼ã‚¿ã€ã€ŒTraceIdã§æŸã­ã‚‹ã€ã¿ãŸã„ãªè€ƒãˆæ–¹ãŒã€ã“ã“ã«ç¹‹ãŒã£ã¦ã„ãã¾ã™ğŸ™‚ğŸ§µ

---

ã“ã“ã¾ã§ã§ã€ãƒ­ã‚°ã¯ã€Œå‡ºã™ã€ã˜ã‚ƒãªãã¦ **â€œè¿½ãˆã‚‹å½¢ã§æ®‹ã™â€** ã‚‚ã®ã«ãªã£ã¦ããŸã¯ãšï¼ğŸ§¾âœ¨
æ¬¡ã®ç« ï¼ˆä¾‹å¤–ï¼‰ã«å…¥ã‚‹ã¨ã€**å¤±æ•—ãƒ­ã‚°ã®å“è³ª**ãŒã•ã‚‰ã«ä¸ŠãŒã‚Šã¾ã™ğŸ’¥ğŸ“ˆ

[1]: https://learn.microsoft.com/en-us/dotnet/core/extensions/logging "Logging in C# - .NET | Microsoft Learn"
[2]: https://learn.microsoft.com/ja-jp/dotnet/api/microsoft.extensions.logging.loglevel?view=net-9.0-pp&viewFallbackFrom=dotnet-plat-ext-8.0&utm_source=chatgpt.com "LogLevel Enum (Microsoft.Extensions.Logging)"
[3]: https://learn.microsoft.com/en-us/dotnet/core/extensions/logging-providers?utm_source=chatgpt.com "Logging providers - .NET"
[4]: https://learn.microsoft.com/ja-jp/aspnet/core/fundamentals/logging/?view=aspnetcore-10.0&utm_source=chatgpt.com ".NET ã¨ ASP.NET Core ã§ã®ãƒ­ã‚°è¨˜éŒ²"
[5]: https://opentelemetry.io/docs/languages/dotnet/logs/ "OpenTelemetry .NET logs | OpenTelemetry"
