# ç¬¬2ç« ã€€è¶…ãƒŸãƒ‹ä½“é¨“ï¼šå¥‘ç´„ã‚ã‚Šï¼ãªã—ã§èª­ã¿ã‚„ã™ã•ãŒæ¿€å¤‰ğŸ§ªâœ¨

## ã“ã®ç« ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ğŸ¯

* ã€Œå¥‘ç´„ãªã—ã€ã®é–¢æ•°ãŒã€ã©ã†â€œé™ã‹ã«å£Šã‚Œã‚‹â€ã‹ä½“æ„Ÿã™ã‚‹ğŸ˜µâ€ğŸ’«
* ã€Œå¥‘ç´„ã‚ã‚Šã€ã«ã™ã‚‹ã¨ã€**å¤±æ•—ã®ä»•æ–¹ãŒã‚­ãƒ¬ã‚¤**ã«ãªã£ã¦ãƒ‡ãƒãƒƒã‚°ãŒæ¥½ã«ãªã‚‹ğŸ”¦âœ¨
* TypeScriptã®å‹ã ã‘ã§ã¯å®ˆã‚Œãªã„éƒ¨åˆ†ã‚’ã€**å®Ÿè¡Œæ™‚ãƒã‚§ãƒƒã‚¯**ã§è£œã†æ„Ÿè¦šã‚’ã¤ã‹ã‚€ğŸ›¡ï¸

---

## ã¾ãšã¯æœ€æ–°ç‰ˆãƒ¡ãƒ¢ğŸ†•âœ¨ï¼ˆ2026å¹´1æœˆæ™‚ç‚¹ï¼‰

* TypeScript ã® npm æœ€æ–°ã¯ **5.9.3**ï¼ˆå­¦ç¿’ã¯ã“ã‚ŒåŸºæº–ã§OKï¼‰ğŸ“¦ ([npm][1])
* ã‚µã‚¯ãƒƒã¨TSã‚’å®Ÿè¡Œã™ã‚‹ãªã‚‰ `tsx` ãŒä¾¿åˆ©ï¼ˆnpmã§ç¶™ç¶šæ›´æ–°ï¼‰âš¡ ([npm][2])
* Node.js ã¯ **v24 ãŒ Active LTS**ï¼ˆå®‰å®šé‡è¦–ã®äººã¯ã“ã“ã‚’é¸ã³ãŒã¡ï¼‰ğŸŸ© ([Node.js][3])
* VS Code ã¯å®šæœŸçš„ã«æ›´æ–°ã•ã‚Œã‚‹ã®ã§ã€å›°ã£ãŸã‚‰å…¬å¼ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±ãŒæ—©ã„ğŸ§­ ([Visual Studio Code][4])
* TypeScript ã¯æ¬¡ã®å¤§ããªå¤‰åŒ–ï¼ˆ7ç³»ï¼‰ã«å‘ã‘ãŸå‹•ãã‚‚é€²è¡Œä¸­ï¼ˆçŸ¥ã£ã¦ãŠãã¨ä¸å®‰ãŒæ¸›ã‚‹ï¼‰ğŸš€ ([Microsoft for Developers][5])

---

## è¶…ãƒŸãƒ‹ä½“é¨“ã®é¡Œæï¼š`divide(a, b)` ğŸ°â—

ã€Œå‰²ã‚Šç®—ã€ã£ã¦ç°¡å˜ãã†ã ã‘ã©ã€**å£Šã‚Œæ–¹**ãŒã„ã‚ã„ã‚ã‚ã‚‹ã‚“ã ã‚ˆã­ğŸ‘‡

* `b = 0` â†’ `Infinity`ï¼ˆç„¡é™ï¼‰ã«ãªã£ãŸã‚Šâ€¦â™¾ï¸
* `a` ã‚„ `b` ãŒ `NaN` â†’ ãœã‚“ã¶ `NaN` ã«ãªã£ãŸã‚Šâ€¦ğŸ˜‡
* ã—ã‹ã‚‚ TypeScript ã®å‹ã¯ `number` ã ã‹ã‚‰ã€å‹ã ã‘ã ã¨æ­¢ã‚ã‚‰ã‚Œãªã„âš¡

---

## æ‰‹ã‚’å‹•ã‹ã™æº–å‚™ï¼ˆæœ€å°ã‚»ãƒƒãƒˆï¼‰ğŸ› ï¸âœ¨

VS Code ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã€ä¸‹ã‚’é †ã«å®Ÿè¡Œã™ã‚‹ã‚ˆã€œğŸ’»ğŸ’•

```bash
mkdir dbc-ch2
cd dbc-ch2
npm init -y
npm i -D typescript tsx
npm pkg set scripts.dev="tsx src/main.ts"
```

> `tsx` ã¯ã€ŒTypeScriptã‚’ãã®ã¾ã¾å®Ÿè¡Œã€ã§ãã¦ã€ãƒŸãƒ‹å®Ÿé¨“ã«è¶…ä¾¿åˆ©âš¡ ([npm][2])

---

## â‘  å¥‘ç´„ãªã—ç‰ˆï¼šé™ã‹ã«å£Šã‚Œã¦â€œã‚ã¨ã§æ³£ãâ€ğŸ˜­

`src/divide.ts` ã‚’ä½œã£ã¦ğŸ‘‡

```ts
// src/divide.ts
export function divide(a: number, b: number): number {
  // å¥‘ç´„ãªã—ï¼šãã®ã¾ã¾å‰²ã‚‹ã ã‘
  return a / b;
}
```

`src/main.ts` ã‚‚ä½œã£ã¦ğŸ‘‡

```ts
// src/main.ts
import { divide } from "./divide";

const cases: Array<[number, number]> = [
  [10, 2],
  [10, 0],
  [0, 0],
  [Number.NaN, 2],
];

for (const [a, b] of cases) {
  const result = divide(a, b);
  console.log(`divide(${a}, ${b}) =>`, result);
}
```

å®Ÿè¡Œã£ğŸ’¨

```bash
npm run dev
```

### ä½•ãŒã‚¤ãƒ¤ã‹ãƒã‚¤ãƒ³ãƒˆğŸ˜µâ€ğŸ’«

* `10 / 0` ãŒ **Infinity** ã§è¿”ã£ã¦ãã‚‹ â†’ ãã®å ´ã§ã¯æ­¢ã¾ã‚‰ãªã„ğŸ˜‡
* `0 / 0` ãŒ **NaN** â†’ ãã‚Œã‚‚æ­¢ã¾ã‚‰ãªã„ğŸ« 
* ã¤ã¾ã‚Šã€Œã©ã“ã§å£Šã‚ŒãŸã‹ã€ãŒ**ã™ãåˆ†ã‹ã‚‰ãªã„**ï¼ˆã‚ã¨ã§ãƒ­ã‚°åœ°ç„ğŸ”¥ï¼‰

---

## â‘¡ å¥‘ç´„ã‚ã‚Šç‰ˆï¼šå…¥å£ã§æ­¢ã‚ã¦ã€å¤±æ•—ã‚’èª­ã¿ã‚„ã™ãã™ã‚‹ğŸ¤ğŸ›‘

ã“ã“ã‹ã‚‰ãŒDbCã®â€œæ°—æŒã¡ã‚ˆã•â€ã ã‚ˆã€œâœ¨
**ã€Œã“ã®é–¢æ•°ã¯ã“ã†ã„ã†å…¥åŠ›ã˜ã‚ƒãªã„ã¨å—ã‘ä»˜ã‘ãªã„ã‚ˆã€**ã‚’ã€ã‚³ãƒ¼ãƒ‰ã§å®£è¨€ã™ã‚‹ğŸ“œâœ…

### å¥‘ç´„ç”¨ã‚¨ãƒ©ãƒ¼ã‚’ä½œã‚‹ï¼ˆèª­ã¿ã‚„ã™ã•UPï¼‰ğŸ§¾âœ¨

`src/contract.ts` ã‚’ä½œã£ã¦ğŸ‘‡

```ts
// src/contract.ts
export class ContractError extends Error {
  constructor(message: string) {
    super(message);
    this.name = "ContractError";
  }
}

export function requireCondition(condition: boolean, message: string): asserts condition {
  if (!condition) throw new ContractError(message);
}
```

### `divide` ã‚’ã€Œå¥‘ç´„ã‚ã‚Šã€ã«å¤‰ãˆã‚‹ğŸª„

`src/divide.ts` ã‚’å·®ã—æ›¿ãˆğŸ‘‡

```ts
// src/divide.ts
import { requireCondition } from "./contract";

export function divide(a: number, b: number): number {
  // âœ… Preconditionï¼ˆäº‹å‰æ¡ä»¶ï¼‰ï¼šå…¥åŠ›ã®ç´„æŸ
  requireCondition(Number.isFinite(a), `divide: a must be a finite number. got ${a}`);
  requireCondition(Number.isFinite(b), `divide: b must be a finite number. got ${b}`);
  requireCondition(b !== 0, `divide: b must be non-zero. got ${b}`);

  const result = a / b;

  // âœ… Postconditionï¼ˆäº‹å¾Œæ¡ä»¶ï¼‰ï¼šçµæœã®ç´„æŸï¼ˆä»Šå›ã¯ãƒ‡ãƒ¢ã¨ã—ã¦ï¼‰
  requireCondition(Number.isFinite(result), `divide: result must be finite. got ${result}`);

  return result;
}
```

ã‚‚ã†ä¸€å›å®Ÿè¡Œã£ğŸ’¨

```bash
npm run dev
```

### ã€Œå¤±æ•—ã®ä»•æ–¹ã€ãŒå¤‰ã‚ã‚‹ã®ãŒå‹ã¡âœ¨ğŸ”¦

* ãƒ€ãƒ¡ãªå…¥åŠ›ã§ã€**ãã®å ´ã§æ­¢ã¾ã‚‹**ğŸ›‘
* ã‚¨ãƒ©ãƒ¼æ–‡ã«ã€Œä½•ãŒãƒ€ãƒ¡ã§ã€ä½•ãŒæ¥ãŸã‹ã€ãŒå‡ºã‚‹ğŸ“Œ
* `ContractError` ã£ã¦åå‰ã‚‚ä»˜ãã‹ã‚‰ã€ãƒ­ã‚°ã§æ¢ã—ã‚„ã™ã„ğŸ”ğŸ’•

---

## â€œèª­ã¿ã‚„ã™ã•ãŒæ¿€å¤‰â€ã™ã‚‹ç†ç”±ğŸ§ âœ¨

### å¥‘ç´„ãªã—ğŸ™…â€â™€ï¸

* é–¢æ•°ã®æœ¬éŸ³ï¼ˆå‰æï¼‰ãŒã‚³ãƒ¼ãƒ‰ã«æ›¸ã‹ã‚Œã¦ãªã„
* å¤±æ•—ãŒé…ã‚Œã¦ã‚„ã£ã¦ãã‚‹ï¼ˆãƒã‚°ãŒé ãã§çˆ†ç™ºï¼‰ğŸ’£

### å¥‘ç´„ã‚ã‚ŠğŸ™†â€â™€ï¸

* é–¢æ•°ã®å‰æãŒã€**å†’é ­ã«ã¾ã¨ã¾ã£ã¦è¦‹ãˆã‚‹**ğŸ‘€âœ¨
* å¤‰ãªå…¥åŠ›ã¯å…¥å£ã§æ­¢ã¾ã‚‹ğŸšªğŸ›‘
* ã‚¨ãƒ©ãƒ¼ãŒã€ŒåŸå› ã®è¿‘ãã€ã§èµ·ãã‚‹ã‹ã‚‰ã€ä¿®æ­£ãŒé€Ÿã„ğŸƒâ€â™€ï¸ğŸ’¨

---

## æ¼”ç¿’â‘ ï¼šã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’â€œç›´ã—æ–¹ãŒåˆ†ã‹ã‚‹â€æ„Ÿã˜ã«ã—ã¦ã¿ã‚ˆã†ğŸ“ğŸ’•

æ¬¡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ã©ã£ã¡ãŒè¦ªåˆ‡ã‹ãªï¼ŸğŸ™‚

* âŒ `invalid input`ï¼ˆãªã«ãŒï¼Ÿã©ã†ç›´ã™ã®ï¼ŸğŸ˜¢ï¼‰
* âœ… `divide: b must be non-zero. got 0`ï¼ˆbã‚’0ä»¥å¤–ã«ã—ã¦ã­ï¼ã£ã¦åˆ†ã‹ã‚‹âœ¨ï¼‰

ğŸ‘‰ è‡ªåˆ†ã®è¨€è‘‰ã§ã€ã‚‚ã£ã¨è¦ªåˆ‡ã«ã—ã¦ã¿ã¦ã­ğŸ’¡
ä¾‹ï¼š`divide: åˆ†æ¯bãŒ0ã ã¨å‰²ã‚Œãªã„ã‚ˆï¼bã«1ä»¥ä¸Šã‚’å…¥ã‚Œã¦ã­ï¼ˆgot 0ï¼‰` ã¿ãŸã„ã«ğŸ™ŒğŸ’•

---

## æ¼”ç¿’â‘¡ï¼šãƒ†ã‚¹ãƒˆç”¨ã‚±ãƒ¼ã‚¹ã‚’å¢—ã‚„ã—ã¦â€œæ­¢ã¾ã‚‹å®‰å¿ƒâ€ã‚’ä½“æ„Ÿã—ã‚ˆã†ğŸ§ªâœ¨

`src/main.ts` ã® `cases` ã«è¿½åŠ ã—ã¦ã¿ã¦ğŸ‘‡

* `[1, -1]`ï¼ˆè² æ•°ã¯OKï¼ŸOKãªã‚‰é€šã‚‹â˜ºï¸ï¼‰
* `[Number.POSITIVE_INFINITY, 2]`ï¼ˆå¼¾ã‹ã‚Œã‚‹ğŸ›‘ï¼‰
* `[1, Number.NaN]`ï¼ˆå¼¾ã‹ã‚Œã‚‹ğŸ›‘ï¼‰

ã€Œã©ã‚ŒãŒé€šã£ã¦ã€ã©ã‚ŒãŒæ­¢ã¾ã‚‹ã‹ã€äºˆæƒ³ã—ã¦ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã¨æ¥½ã—ã„ã‚ˆğŸ¯ğŸ’•

---

## AIæ´»ç”¨ãƒŸãƒ‹ï¼ˆCopilot / Codexï¼‰ğŸ¤–âœ¨

å¥‘ç´„ãƒã‚§ãƒƒã‚¯ã‚’å¢—ã‚„ã™ã¨ãã€AIã«ã“ã†é ¼ã‚€ã¨é€Ÿã„ã‚ˆâš¡

* ã€Œ`requireCondition` ã‚’ä½¿ã£ã¦ `divide` ã®äº‹å‰æ¡ä»¶ã‚’è¿½åŠ ã—ã¦ã€‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ got å€¤ã¤ãã§ã€ğŸª„
* ã€Œ`ContractError` ã‚’ä½œã£ã¦ã€ä¾‹å¤–åã§ãƒ­ã‚°æ¤œç´¢ã—ã‚„ã™ãã—ã¦ã€ğŸ”
* ã€Œ`main.ts` ã«ã„ã‚ã‚“ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã¦ã€æœŸå¾…çµæœã‚‚ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ã€ğŸ§ª

âš ï¸ ãŸã ã—ã€**â€œã©ã“ã¾ã§ã‚’å¥‘ç´„ã«ã™ã‚‹ã‹â€**ã¯äººé–“ã®åˆ¤æ–­ãŒå¤§äº‹ã ã‚ˆã€œğŸ§ âœ¨ï¼ˆAIã¯ç›¸è«‡å½¹ğŸ¤ï¼‰

---

## å®‰å…¨ãƒ¡ãƒ¢ï¼ˆã¡ã‚‡ã„å¤§äº‹ï¼‰ğŸ”âš ï¸

çŸ¥ã‚‰ãªã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ VS Code ã§é–‹ãã¨ãã¯ã€Workspace Trustï¼ˆä¿¡é ¼ï¼‰ã‚’è»½ãæŠ¼ã•ãªã„ã§ã­ğŸ™
æœ€è¿‘ã‚‚ã€Œæ‚ªæ„ã‚ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã‚’é–‹ã‹ã›ã‚‹ã€æ‰‹å£ãŒå ±å‘Šã•ã‚Œã¦ã‚‹ã‚ˆğŸ•µï¸â€â™€ï¸ ([TechRadar][6])

---

## ç« æœ«ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆâœ…âœ¨

* [ ] å¥‘ç´„ãªã—ã® `divide` ã§ã€`Infinity / NaN` ãŒâ€œé™ã‹ã«è¿”ã‚‹â€ã®ã‚’è¦‹ãŸğŸ‘€
* [ ] å¥‘ç´„ã‚ã‚Šã«ã—ã¦ã€ãƒ€ãƒ¡å…¥åŠ›ã§â€œãã®å ´ã§æ­¢ã¾ã‚‹â€ã®ã‚’è¦‹ãŸğŸ›‘
* [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€Œç›´ã—æ–¹ãŒåˆ†ã‹ã‚‹å½¢ã€ã«ã§ããŸğŸ“ğŸ’•
* [ ] ã€Œå‹ã ã‘ã˜ã‚ƒå®ˆã‚Œãªã„éƒ¨åˆ†ã€ãŒã‚ã‚‹ã®ã‚’ä½“æ„Ÿã§ããŸğŸ§·ğŸ›¡ï¸

[1]: https://www.npmjs.com/package/typescript?utm_source=chatgpt.com "TypeScript"
[2]: https://www.npmjs.com/package/tsx?utm_source=chatgpt.com "tsx"
[3]: https://nodejs.org/en/about/previous-releases?utm_source=chatgpt.com "Node.js Releases"
[4]: https://code.visualstudio.com/updates/v1_109?utm_source=chatgpt.com "January 2026 Insiders (version 1.109)"
[5]: https://devblogs.microsoft.com/typescript/progress-on-typescript-7-december-2025/?utm_source=chatgpt.com "Progress on TypeScript 7 - December 2025"
[6]: https://www.techradar.com/pro/security/north-korean-hackers-target-microsoft-virtual-studio-code?utm_source=chatgpt.com "North Korean hackers target Microsoft Virtual Studio Code"

