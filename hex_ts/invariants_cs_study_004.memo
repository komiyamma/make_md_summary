ガード節を用いて入口で不正な値を即座に弾くことで、ネストを避け可読性を高める。検証ロジックを1箇所に集約し、null、範囲、組み合わせの順でチェックを行う。